# Generate Schema as Migrations

<div class='row'>
<div class='cell-4'>

```bash
$ npm init -y
$ npm install pg
$ npm install -D postgrator-cli
$ createdb suppliers
```

## postgrator.json {.code-header}
```json
{
  "migrationDirectory": "migrations",
  "driver": "pg",
  "connectionString": "postgresql://localhost/suppliers"
}
```

## 001.do.create-supplier.sql {.code-header}
```sql
CREATE TABLE supplier (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  supplier_name TEXT NOT NULL,
  phone TEXT,
  city TEXT
);
```

## 001.undo.create-supplier.sql {.code-header}
```sql
DROP TABLE IF EXISTS supplier;
```


</div>
<div class='cell-2 smallest'>

Migrations help us keep our reversible actions in order. If we created all three tables in a single SQL file, you would need to manage the order of `DROP TABLE` commands to ensure you don't drop a table that depends on another.

</div>
</div>


<style>
.code-header {
  font-size: 0.7em;
  font-style: italic; 
  margin-bottom: 0;
}
</style>
